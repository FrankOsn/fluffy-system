<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generador de MenÃºs â€” Control Panel</title>
  <link rel="stylesheet" href="admin.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
  <div class="app">
    <!-- Panel de Control Izquierda -->
    <aside class="panel">
      <h1>Control de MenÃº</h1>

      <!-- OrientaciÃ³n y Aspectos -->
      <section class="panel-section">
        <h3>ğŸ“º Pantalla</h3>
        <label>OrientaciÃ³n:</label>
        <div class="radio-group">
          <label><input type="radio" name="orientation" value="landscape" checked /> Horizontal (16:9)</label>
          <label><input type="radio" name="orientation" value="portrait" /> Vertical (9:16)</label>
        </div>
      </section>

      <!-- Carga de Datos -->
      <section class="panel-section">
        <h3>ğŸ“‚ Datos</h3>
        <label>Archivo JSON</label>
        <input id="fileInput" type="file" accept="application/json" />
        <button id="btnLoadSample">Cargar Ejemplo</button>
      </section>

      <!-- SelecciÃ³n de Hoja -->
      <section class="panel-section">
        <h3>ğŸ“„ Hoja Actual</h3>
        <label>Seleccionar: <strong id="sheetCount">0/0</strong></label>
        <select id="sheetSelect"></select>
      </section>

      <!-- ConfiguraciÃ³n de Fuente -->
      <section class="panel-section">
        <h3>ğŸ”¤ Fuente</h3>
        <label>Google Fonts CSS</label>
        <input id="fontCss" type="text" placeholder="https://fonts.googleapis.com/..." 
          value="https://fonts.googleapis.com/css2?family=Roboto+Serif:ital,opsz,wght@0,8..144,100..900;1,8..144,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" />
        <label>O cargar local (.ttf/.woff/.woff2)</label>
        <input id="fontFile" type="file" accept=".ttf,.woff,.woff2" />
      </section>

      <!-- ConfiguraciÃ³n de TamaÃ±os -->
      <section class="panel-section">
        <h3>ğŸ“ TamaÃ±os (pt)</h3>
        <div class="form-row">
          <div>
            <label>TÃ­tulo CategorÃ­a</label>
            <input id="titulo_pt" type="number" value="140" min="60" max="250" />
          </div>
          <div>
            <label>Nombre</label>
            <input id="nombre_pt" type="number" value="85" min="1" max="300" />
          </div>
          <div>
            <label>Precio</label>
            <input id="precio_pt" type="number" value="100" min="1" max="300" />
          </div>
          <div>
            <label>Unidad (junto a precio)</label>
            <input id="unidad_pt" type="number" value="65" min="30" max="120" />
          </div>
        </div>
      </section>

      <!-- Mostrar Elementos -->
      <section class="panel-section">
        <h3>ğŸ‘ï¸ Mostrar/Ocultar</h3>
        <div style="display: flex; flex-direction: column; gap: 8px;">
          <label style="display: flex; align-items: center; gap: 8px;">
            <input id="showTitulo" type="checkbox" checked />
            Mostrar TÃ­tulo de CategorÃ­a
          </label>
          <label style="display: flex; align-items: center; gap: 8px;">
            <input id="showUnidad" type="checkbox" checked />
            Mostrar Unidad (ej: | KG)
          </label>
        </div>
      </section>

      <!-- Logo -->
      <section class="panel-section">
        <h3>ğŸ¢ Logo</h3>
        <label>Cargar Logo (PNG/JPG)</label>
        <input id="logoFile" type="file" accept="image/png,image/jpeg" />
        <div style="margin-top: 10px; margin-bottom: 10px;">
          <label for="logoSizeInput">TamaÃ±o del Logo (px):</label>
          <input id="logoSizeInput" type="number" value="80" min="30" max="200" style="width: 60px;" />
        </div>
        <div style="margin-top: 10px; font-size: 12px; color: #666;">
          ğŸ’¾ Se guarda en navegador (no en servidor)
        </div>
      </section>

      <!-- ConfiguraciÃ³n de Colores -->
      <section class="panel-section">
        <h3>ğŸ¨ Colores</h3>
        <div class="form-row">
          <div>
            <label>Fondo</label>
            <div style="display: flex; gap: 8px;">
              <input id="bgcolorPicker" type="color" value="#7B0000" style="width: 45px; cursor: pointer;" />
              <input id="bgcolor" type="text" placeholder="#7B0000" value="#7B0000" />
            </div>
          </div>
          <div>
            <label>Texto</label>
            <div style="display: flex; gap: 8px;">
              <input id="textcolorPicker" type="color" value="#FFFDD0" style="width: 45px; cursor: pointer;" />
              <input id="textcolor" type="text" placeholder="#FFFDD0" value="#FFFDD0" />
            </div>
          </div>
          <div>
            <label>Divisor</label>
            <div style="display: flex; gap: 8px;">
              <input id="dividercolorPicker" type="color" value="#D4AF37" style="width: 45px; cursor: pointer;" />
              <input id="dividercolor" type="text" placeholder="#D4AF37" value="#D4AF37" />
            </div>
          </div>
        </div>
      </section>

      <!-- Espaciado (px) y Disclaimer -->
      <section class="panel-section">
        <h3>ğŸ’¬ Leyenda / Disclaimer</h3>
        <label>Texto al pie (usa \n para nueva lÃ­nea)</label>
        <textarea id="disclaimer" rows="3" placeholder="* PRECIOS SUJETOS A CAMBIO\n* PRODUCTOS BAJO PEDIDO" style="width: 100%; font-size: 12px; font-family: monospace;"></textarea>
      </section>

      <!-- MÃ¡ximo de Productos y Layout -->
      <section class="panel-section">
        <h3>âš™ï¸ ConfiguraciÃ³n Avanzada</h3>
        <div style="margin-bottom: 15px;">
          <label>MÃ¡ximo de Productos por Hoja</label>
          <input id="maxProductos" type="number" value="10" min="1" max="50" />
          <div style="margin-top: 8px; font-size: 12px; color: #666;">
            ğŸ“Œ Cantidad mÃ¡xima de productos a mostrar (segÃºn layout)
          </div>
        </div>
        <div>
          <label for="layoutMode">Modo de Layout</label>
          <select id="layoutMode" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px;">
            <option value="dos-columnas">Dos Columnas (1-5 izq, 6-10 der)</option>
            <option value="lista-unica">Lista Ãšnica (todos en una columna)</option>
          </select>
          <div style="margin-top: 8px; font-size: 12px; color: #666;">
            ğŸ“‹ Dos Columnas: distribuye productos | Lista Ãšnica: todos lineales
          </div>
        </div>
      </section>

      <!-- ConfiguraciÃ³n de Espaciado -->
      <section class="panel-section">
        <h3>ğŸ“¦ Espaciado (px)</h3>
        <div class="form-row">
          <div>
            <label>Entre Items</label>
            <input id="itemSpacing" type="number" value="32" min="10" max="80" />
          </div>
          <div>
            <label>Margen</label>
            <input id="margin" type="number" value="50" min="20" max="100" />
          </div>
        </div>
      </section>

      <!-- RotaciÃ³n -->
      <section class="panel-section">
        <h3>â±ï¸ RotaciÃ³n</h3>
        <label>Intervalo (segundos)</label>
        <input id="rotInterval" type="number" value="600" min="5" />
        <div class="button-group">
          <button id="startRotation">Iniciar</button>
          <button id="stopRotation">Parar</button>
        </div>
      </section>

      <!-- ConfiguraciÃ³n -->
      <section class="panel-section">
        <h3>âš™ï¸ ConfiguraciÃ³n</h3>
        <div class="button-group">
          <button id="saveConfig">ğŸ’¾ Guardar</button>
          <button id="loadConfig">ğŸ“‚ Cargar</button>
        </div>
        <input id="configFile" type="file" accept="application/json" style="display:none" />
      </section>

      <!-- Exportar -->
      <section class="panel-section">
        <h3>ğŸ’¾ Exportar</h3>
        <div class="button-group">
          <button id="exportPNG">PNG Actual</button>
          <button id="exportAllPNG">PNG TODO</button>
        </div>
        <div class="button-group">
          <button id="exportPDF">PDF Actual</button>
          <button id="exportAllPDF">PDF TODO</button>
        </div>
      </section>
    </aside>

    <!-- Preview Derecha -->
    <main class="preview-container">
      <div class="preview-header">
        <h2>Vista Previa</h2>
        <span id="previewInfo">Cargando...</span>
      </div>
      <canvas id="menuCanvas"></canvas>
    </main>
  </div>

  <script src="admin.js"></script>
</body>
</html>
